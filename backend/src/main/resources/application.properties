spring.application.name=EduFinCore

# --- Oracle Configuration ---
spring.datasource.url=jdbc:oracle:thin:@localhost:1521/FREEPDB1
spring.datasource.username=system
spring.datasource.password=SeniorPass123!
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# --- Connection Pooling (HikariCP) - Vital para Performance ---
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.pool-name=EduFinOraclePool
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000

# --- JPA / Hibernate Optimized for Oracle ---
# Em PROD usamos 'validate', mas para dev 'update' é aceitável.
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
# Formata o SQL no log para debug legível
spring.jpa.properties.hibernate.format_sql=true
# Dialeto correto para Oracle 12c+ (inclui suporte a JSON e features novas)
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect

# --- Melhoria de Performance em Batch ---
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# --- Naming Strategy (Snake Case no Banco) ---
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# --- Debug de Transação ---
# Mostra quando abre e fecha transação
logging.level.org.springframework.transaction=DEBUG
logging.level.org.springframework.orm.jpa=DEBUG
logging.level.org.springframework.transaction.interceptor=TRACE

# Logs do Hikari
logging.level.com.zaxxer.hikari=DEBUG